{"version":3,"file":"js/623.5c699dee.js","mappings":"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","sources":["webpack://sixth/./node_modules/mitt/dist/mitt.mjs","webpack://sixth/./src/libs/emitter.js","webpack://sixth/./src/views/ProductView.vue","webpack://sixth/./src/views/ProductView.vue?f743"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt'\r\n\r\nconst emitter = mitt()\r\n\r\nexport default emitter\r\n","<template>\r\n    <h2 class=\"text-center py-3\">單一產品</h2>\r\n    <div class=\"container\">\r\n          <div class=\"card\">\r\n            <div class=\"row align-items-center\">\r\n              <div class=\"col-sm-6\">\r\n                <img class=\"w-100\" style=\"height:400px; object-fit: cover;\" :src=\"product.imageUrl\" alt=\"\">\r\n          </div>\r\n              <div class=\"col-sm-6\">\r\n                <div class=\"pe-5\">\r\n                  <h5>{{ product.title }}</h5>\r\n                  <span class=\"badge bg-primary rounded-pill\">{{ product.category }}</span>\r\n                  <p>商品描述：{{ product.description }}</p>\r\n                  <p>商品內容：{{ product.content }}</p>\r\n                  <div class=\"h5\" v-if=\"product.price === product.origin_price\" >{{ product.price }} 元</div>\r\n                  <div v-else>\r\n                    <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\r\n                    <div class=\"h5\">現在只要 {{ product.price }} 元</div>\r\n                  </div>\r\n                  <div class=\"input-group\">\r\n\r\n                    <input type=\"number\" class=\"form-control\" v-model=\"qty\"\r\n                           min=\"1\">\r\n                    <button type=\"button\" class=\"btn btn-primary\" @click=\"addToCart(product.id,qty)\"\r\n                    :disabled=\"isLoadingItem === product.id\">\r\n                    <span v-show=\"isLoadingItem === product.id\"><i class=\"fas fa-spinner fa-pulse\"></i></span>\r\n                    加入購物車</button>\r\n                   </div>\r\n                  </div>\r\n                <div>\r\n          </div>\r\n          </div>\r\n              <!-- col-sm-6 end -->\r\n          </div>\r\n          </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@/libs/emitter.js'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      product: [],\r\n      isLoadingItem: '',\r\n      qty: 1\r\n    }\r\n  },\r\n  methods: {\r\n    getProduct () {\r\n      const id = this.$route.params.id\r\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${id}`)\r\n        .then((res) => {\r\n          // console.log(res)\r\n          this.product = res.data.product\r\n        }).catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    // 加入購物車\r\n    addToCart (id, qty = 1) {\r\n      // 判斷loading的時機\r\n      this.isLoadingItem = id\r\n      this.$http.post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`, {\r\n        data: {\r\n          product_id: id,\r\n          qty: qty\r\n        }\r\n      })\r\n        .then((res) => {\r\n          this.isLoadingItem = ''\r\n          this.getProduct()\r\n          emitter.emit('get-cart-list')\r\n          alert(res.data.message)\r\n          this.qty = 1\r\n        }).catch((err) => {\r\n          alert(err.data.message)\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getProduct()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductView.vue?vue&type=template&id=3e8e6f46\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\徐姿茵\\\\Desktop\\\\sixth\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","_createElementVNode","class","_hoisted_16","_hoisted_1","style","src","$data","imageUrl","alt","_toDisplayString","title","category","description","content","price","origin_price","_createElementBlock","_hoisted_11","type","$event","min","onClick","$options","id","disabled","_hoisted_17","_hoisted_19","data","product","isLoadingItem","qty","methods","getProduct","this","$route","params","$http","then","res","catch","err","console","log","addToCart","post","product_id","alert","message","mounted","__exports__","render"],"sourceRoot":""}