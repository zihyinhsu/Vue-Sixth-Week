"use strict";(self["webpackChunksixth"]=self["webpackChunksixth"]||[]).push([[94],{1530:function(t,s,e){function i(t){return{all:t=t||new Map,on:function(s,e){var i=t.get(s);i?i.push(e):t.set(s,[e])},off:function(s,e){var i=t.get(s);i&&(e?i.splice(i.indexOf(e)>>>0,1):t.set(s,[]))},emit:function(s,e){var i=t.get(s);i&&i.slice().map((function(t){t(e)})),(i=t.get("*"))&&i.slice().map((function(t){t(s,e)}))}}}e.d(s,{Z:function(){return c}});const a=i();var c=a},8094:function(t,s,e){e.r(s),e.d(s,{default:function(){return I}});var i=e(6252),a=e(3577),c=e(9963);const n=(0,i._)("h2",{class:"text-center py-3"},"產品列表",-1),o={class:"container"},r={class:"row row-cols-1 row-cols-md-3 g-3"},l={class:"card h-100"},d=["src"],u={class:"card-body d-flex flex-column justify-content-between"},p={class:"card-title"},h={class:"card-text"},f={class:"d-flex"},g=(0,i.Uk)("查看詳情"),m=["onClick","disabled"],v=(0,i._)("i",{class:"fas fa-spinner fa-pulse"},null,-1),w=[v],_=(0,i.Uk)(" 加入購物車");function b(t,s,e,v,b,x){const y=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[n,(0,i._)("div",o,[(0,i._)("div",r,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(b.products,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col",key:t.id},[(0,i._)("div",l,[(0,i._)("img",{src:t.imageUrl,class:"card-img-top",alt:"...",style:{height:"300px","object-fit":"cover"}},null,8,d),(0,i._)("div",u,[(0,i._)("h5",p,(0,a.zw)(t.title),1),(0,i._)("p",h,(0,a.zw)(t.description),1),(0,i._)("div",f,[(0,i.Wm)(y,{to:`/product/${t.id}`,class:"btn btn-outline-primary w-100 me-2"},{default:(0,i.w5)((()=>[g])),_:2},1032,["to"]),(0,i._)("div",{class:"btn btn-primary w-100",onClick:s=>x.addToCart(t.id),disabled:b.isLoadingItem===t.id},[(0,i.wy)((0,i._)("span",null,w,512),[[c.F8,b.isLoadingItem===t.id]]),_],8,m)])])])])))),128))])])],64)}var x=e(1530),y={data(){return{products:[],isLoadingItem:""}},methods:{getProducts(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/zy123/products/all").then((t=>{this.products=t.data.products})).catch((t=>{console.log("123",t)}))},addToCart(t,s=1){this.isLoadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/zy123/cart",{data:{product_id:t,qty:s}}).then((t=>{this.isLoadingItem="",this.getProducts(),x.Z.emit("get-cart-list"),alert(t.data.message)})).catch((t=>{alert(t.data.message)}))}},mounted(){this.getProducts()}},k=e(3744);const C=(0,k.Z)(y,[["render",b]]);var I=C}}]);
//# sourceMappingURL=94.1037348d.js.map